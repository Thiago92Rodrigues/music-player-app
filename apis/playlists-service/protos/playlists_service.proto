syntax = "proto3";

package proto;
option go_package = "grpc/proto";

service Playlists {
    rpc GetPlaylist(Id) returns (Playlist) {}
    rpc GetPlaylists(Id) returns (PlaylistsList) {}
    rpc CreatePlaylist(CreatePlaylistRequest) returns (Playlist) {}
    rpc UpdatePlaylist(UpdatePlaylistRequest) returns (Playlist) {}
    rpc DeletePlaylist(Id) returns (Empty) {}
}

message Id {
    string id = 1;
}

message Playlist {
    string id = 1;
    string name = 2;
    string userId = 3;
    repeated Track tracks = 4;

    message Track {
        int32 index = 1;
        Music music = 2;
    }
}

message PlaylistsList {
    repeated Playlist playlists = 1;
}

message CreatePlaylistRequest {
    string name = 1;
    string userId = 2;
}

message UpdatePlaylistRequest {
    string id = 1;
    string name = 2;
}

message Music {
    string id = 1;
    string title = 2;
    int32 durationInSeconds = 3;
    string file = 4;
    repeated string composers = 5;
    string lyrics = 6;
    string albumId = 7;
    int32 views = 8;
}

message Empty {}
